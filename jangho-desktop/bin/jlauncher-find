#!/bin/bash

set -euo pipefail

cd "${HOME}"
selected=${HOME}/$(find -L . -not -path '*/\.*' -print0 | fzf --read0 --reverse)
if [[ -d "${selected}" ]]; then
  cd "${selected}"
  exec mc
else
  exec swaymsg exec -- xdg-open "${selected}"
fi
